import{d as v,r as u,o as h,c as s,a as t,b as m,t as n,F as g,e as p,j as b,n as f,u as y,g as k,f as e,_ as A}from"./index-CrTPIcUG.js";const C={class:"alerts"},D={class:"page-header"},w={class:"actions"},L=["disabled"],N={key:0,class:"error-message"},x={class:"alerts-container"},B={class:"card"},E={key:0,class:"loading"},I={key:1,class:"table"},S={key:0},F={key:1},T={key:2,class:"no-data"},V=v({__name:"Alerts",setup(j){const r=u([]),o=u(!0),d=u(null),c=async()=>{try{o.value=!0,d.value=null,r.value=await b.getAlerts(),r.value.sort((i,a)=>new Date(a.created_at).getTime()-new Date(i.created_at).getTime())}catch(i){d.value="Error loading alerts",console.error("Error loading alerts:",i)}finally{o.value=!1}},_=()=>{c()};return h(()=>{c()}),(i,a)=>(e(),s("div",C,[t("div",D,[a[0]||(a[0]=t("h2",null,"Alerts",-1)),t("div",w,[t("button",{onClick:_,class:"btn btn-primary",disabled:o.value},n(o.value?"Loading...":"Refresh"),9,L)])]),d.value?(e(),s("div",N,n(d.value),1)):m("",!0),t("div",x,[t("div",B,[o.value?(e(),s("div",E," Loading alerts... ")):r.value.length>0?(e(),s("table",I,[a[2]||(a[2]=t("thead",null,[t("tr",null,[t("th",null,"Alert Name"),t("th",null,"Status"),t("th",null,"Started"),t("th",null,"Incident"),t("th",null,"Actions")])],-1)),t("tbody",null,[(e(!0),s(g,null,p(r.value,l=>(e(),s("tr",{key:l.id},[t("td",null,n(l.alert_name),1),t("td",null,[t("span",{class:f(`status-badge status-${l.status.toLowerCase()}`)},n(l.status),3)]),t("td",null,n(y(k)(l.starts_at)),1),t("td",null,[l.incident_id?(e(),s("span",S,n(l.incident_id.substring(0,8)),1)):(e(),s("span",F,"-"))]),a[1]||(a[1]=t("td",null,[t("button",{class:"btn btn-primary"},"Details")],-1))]))),128))])])):(e(),s("div",T," No alerts found "))])])]))}}),M=A(V,[["__scopeId","data-v-19ccad40"]]);export{M as default};
