import{d as g,r as u,o as y,c as l,a as t,b as m,t as a,F as p,e as b,i as f,f as n,n as _,u as v,g as I,h as k,_ as D}from"./index-4pQBh8lQ.js";const C={class:"incidents"},w={class:"page-header"},L={class:"actions"},x=["disabled"],B={key:0,class:"error-message"},E={class:"incidents-container"},N={class:"card"},S={key:0,class:"loading"},T={key:1,class:"table"},A={key:2,class:"no-data"},F=g({__name:"Incidents",setup(V){const r=u([]),o=u(!0),d=u(null),c=async()=>{try{o.value=!0,d.value=null,r.value=await f.getIncidents(),r.value.sort((i,s)=>new Date(s.created_at).getTime()-new Date(i.created_at).getTime())}catch(i){d.value="Error loading incidents",console.error("Error loading incidents:",i)}finally{o.value=!1}},h=()=>{c()};return y(()=>{c()}),(i,s)=>(n(),l("div",C,[t("div",w,[s[0]||(s[0]=t("h2",null,"Incidents",-1)),t("div",L,[t("button",{onClick:h,class:"btn btn-primary",disabled:o.value},a(o.value?"Loading...":"Refresh"),9,x)])]),d.value?(n(),l("div",B,a(d.value),1)):m("",!0),t("div",E,[t("div",N,[o.value?(n(),l("div",S," Loading incidents... ")):r.value.length>0?(n(),l("table",T,[s[2]||(s[2]=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Title"),t("th",null,"Severity"),t("th",null,"Status"),t("th",null,"Created"),t("th",null,"Duration"),t("th",null,"Actions")])],-1)),t("tbody",null,[(n(!0),l(p,null,b(r.value,e=>(n(),l("tr",{key:e.id},[t("td",null,a(e.id.substring(0,8)),1),t("td",null,a(e.title),1),t("td",null,[t("span",{class:_(`severity-badge severity-${e.severity.toLowerCase()}`)},a(e.severity),3)]),t("td",null,[t("span",{class:_(`status-badge status-${e.status.toLowerCase().replace(" ","-")}`)},a(e.status),3)]),t("td",null,a(v(I)(e.created_at)),1),t("td",null,a(v(k)(e.created_at,e.resolved_at)),1),s[1]||(s[1]=t("td",null,[t("button",{class:"btn btn-primary"},"Details")],-1))]))),128))])])):(n(),l("div",A," No incidents found "))])])]))}}),z=D(F,[["__scopeId","data-v-a5544dae"]]);export{z as default};
